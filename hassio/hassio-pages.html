<link rel='import' href='../bower_components/polymer/polymer-element.html'>
<link rel='import' href='../bower_components/iron-pages/iron-pages.html'>

<link rel='import' href='./dashboard/hassio-dashboard.html'>
<link rel='import' href='./system/hassio-system.html'>
<link rel='import' href='./addon-view/hassio-addon-view.html'>
<link rel='import' href='./addon-store/hassio-addon-store.html'>
<link rel='import' href='./snapshots/hassio-snapshots.html'>

<dom-module id='hassio-pages'>
  <template>
    <iron-pages
      selected='[[page]]'
      attr-for-selected='page-name'
      fallback-selection='not-found'
      selected-attribute='visible'
    >
      <hassio-addon-view
        page-name='addon'
        route='[[route]]'
        hass='[[hass]]'
      ></hassio-addon-view>

      <hassio-addon-store
        page-name='store'
        hass='[[hass]]'
      ></hassio-addon-store>

      <hassio-dashboard
        page-name='dashboard'
        hass='[[hass]]'
        supervisor-info='[[supervisorInfo]]'
        hass-info='[[hassInfo]]'
      ></hassio-dashboard>

      <hassio-system
        page-name='system'
        hass='[[hass]]'
        supervisor-info='[[supervisorInfo]]'
        host-info='[[hostInfo]]'
      ></hassio-system>

      <hassio-snapshots
        page-name='snapshots'
        hass='[[hass]]'
        installed-addons='[[supervisorInfo.addons]]'
      ></hassio-snapshots>

      <div
        page-name='not-found'
      >Page not found</div>
    </iron-pages>
  </template>
</dom-module>

<script>
class HassioPages extends Polymer.Element {
  static get is() { return 'hassio-pages'; }

  static get properties() {
    return {
      hass: Object,
      page: String,
      route: Object,
      supervisorInfo: Object,
      hostInfo: Object,
      hassInfo: Object,
    };
  }
}

customElements.define(HassioPages.is, HassioPages);
</script>
